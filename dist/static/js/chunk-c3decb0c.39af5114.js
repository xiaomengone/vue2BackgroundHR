(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3decb0c"],{"0e8f":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return s}));r("05f6");var n=r("b775");function o(){return Object(n["a"])({url:"/company/department",method:"GET"})}function a(){return Object(n["a"])({url:"/sys/user/simple",method:"GET"})}function i(e){return Object(n["a"])({url:"/company/department",method:"POST",data:{code:e.code,introduce:e.introduce,managerId:e.managerId,name:e.name,pid:e.pid}})}function c(e){return Object(n["a"])({url:"/company/department/".concat(e),method:"GET"})}function u(e,t){return Object(n["a"])({url:"/company/department/".concat(e),method:"PUT",data:{id:t.id,pid:t.pid,name:t.name,code:t.code,managerId:t.managerId,introduce:t.introduce,createTime:t.createTime}})}function s(e){return Object(n["a"])({url:"/company/department/".concat(e),method:"DELETE"})}},"0efb":function(e,t,r){"use strict";r("cc7d")},"1cf2":function(e,t,r){"use strict";var n=r("b8a8"),o=r("dfbf"),a=r("c6b8"),i=RangeError;e.exports=function(e){var t=o(a(this)),r="",c=n(e);if(c<0||c==1/0)throw i("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(t+=t))1&c&&(r+=t);return r}},"1e1d":function(e,t,r){"use strict";r("8d1e");var n=r("9cce"),o=r("f44a"),a=r("4629"),i=r("609e"),c=r("6675"),u=r("622c"),s=c("species"),l=RegExp.prototype;e.exports=function(e,t,r,f){var d=c(e),m=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=m&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!m||!p||r){var b=n(/./[d]),y=t(d,""[e],(function(e,t,r,o,i){var c=n(e),u=t.exec;return u===a||u===l.exec?m&&!i?{done:!0,value:b(t,r,o)}:{done:!0,value:c(r,t,o)}:{done:!1}}));o(String.prototype,e,y[0]),o(l,d,y[1])}f&&u(l[d],"sham",!0)}},4320:function(e,t,r){"use strict";var n=r("0710").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"4a57":function(e,t,r){var n=r("9cce"),o=r("d638"),a=r("dfbf"),i=r("1cf2"),c=r("c6b8"),u=n(i),s=n("".slice),l=Math.ceil,f=function(e){return function(t,r,n){var i,f,d=a(c(t)),m=o(r),p=d.length,b=void 0===n?" ":a(n);return m<=p||""==b?d:(i=m-p,f=u(b,l(i/b.length)),f.length>i&&(f=s(f,0,i)),e?d+f:f+d)}};e.exports={start:f(!1),end:f(!0)}},"4e9e":function(e,t,r){var n=r("2f3e"),o=r("7bc3"),a=r("07bd"),i=r("89b2"),c=r("4629"),u=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var s=n(r,e,t);return null!==s&&o(s),s}if("RegExp"===i(e))return n(c,e,t);throw u("RegExp#exec called on incompatible receiver")}},"5d17":function(e,t,r){var n=r("936d"),o=r("d60f"),a=r("9cce"),i=r("ed97"),c=r("7957"),u=r("622c"),s=r("b9b6").f,l=r("6791"),f=r("9700"),d=r("dfbf"),m=r("50f6"),p=r("b082"),b=r("c9b6"),y=r("f44a"),g=r("609e"),v=r("c49d"),h=r("bb2e").enforce,I=r("de7e"),O=r("6675"),E=r("3626"),x=r("1271"),w=O("match"),k=o.RegExp,T=k.prototype,j=o.SyntaxError,$=a(T.exec),S=a("".charAt),R=a("".replace),P=a("".indexOf),M=a("".slice),q=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,_=/a/g,A=/a/g,D=new k(_)!==_,L=p.MISSED_STICKY,C=p.UNSUPPORTED_Y,G=n&&(!D||L||E||x||g((function(){return A[w]=!1,k(_)!=_||k(A)==A||"/a/i"!=k(_,"i")}))),F=function(e){for(var t,r=e.length,n=0,o="",a=!1;n<=r;n++)t=S(e,n),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),o+=t):o+="[\\s\\S]":o+=t+S(e,++n);return o},N=function(e){for(var t,r=e.length,n=0,o="",a=[],i={},c=!1,u=!1,s=0,l="";n<=r;n++){if(t=S(e,n),"\\"===t)t+=S(e,++n);else if("]"===t)c=!1;else if(!c)switch(!0){case"["===t:c=!0;break;case"("===t:$(q,M(e,n+1))&&(n+=2,u=!0),o+=t,s++;continue;case">"===t&&u:if(""===l||v(i,l))throw new j("Invalid capture group name");i[l]=!0,a[a.length]=[l,s],u=!1,l="";continue}u?l+=t:o+=t}return[o,a]};if(i("RegExp",G)){for(var U=function(e,t){var r,n,o,a,i,s,p=l(T,this),b=f(e),y=void 0===t,g=[],v=e;if(!p&&b&&y&&e.constructor===U)return e;if((b||l(T,e))&&(e=e.source,y&&(t=m(v))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),v=e,E&&"dotAll"in _&&(n=!!t&&P(t,"s")>-1,n&&(t=R(t,/s/g,""))),r=t,L&&"sticky"in _&&(o=!!t&&P(t,"y")>-1,o&&C&&(t=R(t,/y/g,""))),x&&(a=N(e),e=a[0],g=a[1]),i=c(k(e,t),p?this:T,U),(n||o||g.length)&&(s=h(i),n&&(s.dotAll=!0,s.raw=U(F(e),r)),o&&(s.sticky=!0),g.length&&(s.groups=g)),e!==v)try{u(i,"source",""===v?"(?:)":v)}catch(I){}return i},z=s(k),Y=0;z.length>Y;)b(U,k,z[Y++]);T.constructor=U,U.prototype=T,y(o,"RegExp",U,{constructor:!0})}I("RegExp")},"8bfd":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.employeeInfo,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"姓名",prop:"username"}},[t("el-input",{model:{value:e.employeeInfo.username,callback:function(t){e.$set(e.employeeInfo,"username",t)},expression:"employeeInfo.username"}})],1),t("el-form-item",{attrs:{label:"工号"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.employeeInfo.workNumber,callback:function(t){e.$set(e.employeeInfo,"workNumber",t)},expression:"employeeInfo.workNumber"}})],1),t("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[t("el-input",{model:{value:e.employeeInfo.mobile,callback:function(t){e.$set(e.employeeInfo,"mobile",t)},expression:"employeeInfo.mobile"}})],1),t("el-form-item",{attrs:{label:"部门",prop:"departmentId"}},[t("el-cascader",{attrs:{separator:"-",props:e.cascaderProps,options:e.parmentList,clearable:""},model:{value:e.employeeInfo.departmentId,callback:function(t){e.$set(e.employeeInfo,"departmentId",t)},expression:"employeeInfo.departmentId"}})],1),t("el-form-item",{attrs:{label:"聘用形式",prop:"formOfEmployment"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.employeeInfo.formOfEmployment,callback:function(t){e.$set(e.employeeInfo,"formOfEmployment",t)},expression:"employeeInfo.formOfEmployment"}},e._l(e.sOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"入职时间",prop:"timeOfEntry"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.employeeInfo.timeOfEntry,callback:function(t){e.$set(e.employeeInfo,"timeOfEntry",t)},expression:"employeeInfo.timeOfEntry"}})],1),t("el-form-item",{attrs:{label:"转正时间",prop:"correctionTime"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.employeeInfo.correctionTime,callback:function(t){e.$set(e.employeeInfo,"correctionTime",t)},expression:"employeeInfo.correctionTime"}})],1),t("el-form-item",{attrs:{label:"员工头像",prop:"staffPhoto"}},[t("div",{staticClass:"staffPhoto"},[t("i",{staticClass:"el-icon-plus"})])]),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s("-1"===e.routeId?"保存":"保存更新"))])],1)],1)],1)},o=[],a=r("d09a"),i=r("0fc4"),c=r("7921"),u=(r("5183"),r("36f7"),r("ae9d"),r("0e8f")),s=r("ef75"),l=r("ed08"),f={data:function(){var e=this,t=function(t,r,n){e.employeeInfo.correctionTime<e.employeeInfo.timeOfEntry?n(new Error("转正时间应该晚于入职时间")):n()};return{routeId:"",sOptions:[{value:1,label:"正式"},{value:2,label:"非正式"}],cascaderProps:{value:"id",label:"name",children:"children"},parmentList:[],rules:{username:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:4,message:"员工姓名为2-4个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1589]))\d{8}$/,message:"请填写正确的手机号码",trigger:"blur"}],departmentId:[{required:!0,message:"请选择部门名称",trigger:"blur"}],formOfEmployment:[{required:!0,message:"请选择聘用形式",trigger:"blur"}],timeOfEntry:[{required:!0,message:"请选择入职时间",trigger:"blur"}],correctionTime:[{required:!0,message:"请选择转正时间",trigger:"blur"},{validator:t,trigger:"blur"}]},employeeInfo:{username:"",workNumber:"",mobile:"",departmentId:null,formOfEmployment:null,timeOfEntry:"",correctionTime:"",staffPhoto:""}}},mounted:function(){this.getDepartmentList(),"-1"!==this.routeId&&this.getEmpInfo(this.routeId)},created:function(){this.routeId=this.$route.params.id,console.log("传入的id是",this.routeId,Object.prototype.toString.call(this.routeId))},methods:{getDepartmentList:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["c"])();case 2:r=t.sent,n=r.data,e.parmentList=Object(l["a"])(n,0);case 5:case"end":return t.stop()}}),t)})))()},getEmpInfo:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function r(){var n,o;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["b"])(e);case 2:n=r.sent,o=n.data,t.employeeInfo=o,console.log("1122",n);case 6:case"end":return r.stop()}}),r)})))()},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(c["a"])(Object(i["a"])().mark((function e(r){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}if("-1"!==t.$route.params.id){e.next=9;break}return t.employeeInfo.departmentId=t.employeeInfo.departmentId[t.employeeInfo.departmentId.length-1],e.next=5,Object(s["f"])(t.employeeInfo);case 5:e.sent,t.$message.success("添加成功"),e.next=14;break;case 9:return console.log("修改传的值",t.routeId,t.employeeInfo),n=Object(a["a"])({id:t.routeId},t.employeeInfo),e.next=13,Object(s["h"])(t.routeId,n);case 13:t.$message.success("修改成功");case 14:t.employeeInfo={},e.next=19;break;case 17:return"-1"===t.$route.params.id?t.$message.success("添加失败"):t.$message.success("修改失败"),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},d=f,m=(r("0efb"),r("f1ff")),p=Object(m["a"])(d,n,o,!1,null,"2fedfc44",null);t["default"]=p.exports},a32c:function(e,t,r){var n=r("936d"),o=r("b082").MISSED_STICKY,a=r("89b2"),i=r("db59"),c=r("bb2e").get,u=RegExp.prototype,s=TypeError;n&&o&&i(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!c(this).sticky;throw s("Incompatible receiver, RegExp required")}}})},b5fd:function(e,t,r){"use strict";var n=r("fa34"),o=r("4a57").start,a=r("d737");n({target:"String",proto:!0,forced:a},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},bfdf6:function(e,t,r){var n=r("9cce"),o=r("51ad"),a=Math.floor,i=n("".charAt),c=n("".replace),u=n("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,d){var m=r+e.length,p=n.length,b=l;return void 0!==f&&(f=o(f),b=s),c(d,b,(function(o,c){var s;switch(i(c,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,m);case"<":s=f[u(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>p){var d=a(l/10);return 0===d?o:d<=p?void 0===n[d-1]?i(c,1):n[d-1]+i(c,1):o}s=n[l-1]}return void 0===s?"":s}))}},cc7d:function(e,t,r){},d737:function(e,t,r){var n=r("5ae8");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},dd5c:function(e,t,r){"use strict";var n=r("c2cd"),o=r("2f3e"),a=r("9cce"),i=r("1e1d"),c=r("609e"),u=r("7bc3"),s=r("07bd"),l=r("f18a"),f=r("b8a8"),d=r("d638"),m=r("dfbf"),p=r("c6b8"),b=r("4320"),y=r("b82a"),g=r("bfdf6"),v=r("4e9e"),h=r("6675"),I=h("replace"),O=Math.max,E=Math.min,x=a([].concat),w=a([].push),k=a("".indexOf),T=a("".slice),j=function(e){return void 0===e?e:String(e)},$=function(){return"$0"==="a".replace(/./,"$0")}(),S=function(){return!!/./[I]&&""===/./[I]("a","$0")}(),R=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));i("replace",(function(e,t,r){var a=S?"$":"$0";return[function(e,r){var n=p(this),a=l(e)?void 0:y(e,I);return a?o(a,e,n,r):o(t,m(n),e,r)},function(e,o){var i=u(this),c=m(e);if("string"==typeof o&&-1===k(o,a)&&-1===k(o,"$<")){var l=r(t,i,c,o);if(l.done)return l.value}var p=s(o);p||(o=m(o));var y=i.global;if(y){var h=i.unicode;i.lastIndex=0}var I=[];while(1){var $=v(i,c);if(null===$)break;if(w(I,$),!y)break;var S=m($[0]);""===S&&(i.lastIndex=b(c,d(i.lastIndex),h))}for(var R="",P=0,M=0;M<I.length;M++){$=I[M];for(var q=m($[0]),_=O(E(f($.index),c.length),0),A=[],D=1;D<$.length;D++)w(A,j($[D]));var L=$.groups;if(p){var C=x([q],A,_,c);void 0!==L&&w(C,L);var G=m(n(o,void 0,C))}else G=g(q,c,_,A,L,o);_>=P&&(R+=T(c,P,_)+G,P=_+q.length)}return R+T(c,P)}]}),!R||!$||S)},e05a:function(e,t,r){var n=r("936d"),o=r("3626"),a=r("89b2"),i=r("db59"),c=r("bb2e").get,u=RegExp.prototype,s=TypeError;n&&o&&i(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!c(this).dotAll;throw s("Incompatible receiver, RegExp required")}}})},ed08:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("0e68"),r("4437"),r("36f7"),r("5d17"),r("e05a"),r("8d1e"),r("a32c"),r("f214"),r("ae9d"),r("b5fd"),r("dd5c"),r("7bd1");function n(e,t){var r=e.filter((function(e){return e.pid===t}));return r.forEach((function(t){var r;t.children=n(e,t.id),0===(null===(r=t.children)||void 0===r?void 0:r.length)&&delete t.children})),r}},ef75:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return i})),r.d(t,"i",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"h",(function(){return f})),r.d(t,"g",(function(){return d}));var n=r("b775");function o(e){return Object(n["a"])({url:"/sys/user",method:"GET",params:{page:e.page,pagesize:e.pagesize,keyword:e.keyword,departmentId:e.departmentId}})}function a(){return Object(n["a"])({url:"/sys/user/export",responseType:"blob"})}function i(){return Object(n["a"])({url:"/sys/user/import/template",method:"GET",responseType:"blob"})}function c(e){return Object(n["a"])({url:"/sys/user/import",method:"POST",data:e})}function u(e){return Object(n["a"])({url:"/sys/user/".concat(e),method:"DELETE"})}function s(e){return Object(n["a"])({url:"/sys/user",method:"POST",data:{username:e.username,mobile:e.mobile,formOfEmployment:e.formOfEmployment,departmentId:e.departmentId,timeOfEntry:e.timeOfEntry,correctionTime:e.correctionTime}})}function l(e){return Object(n["a"])({url:"/sys/user/".concat(e),method:"GET"})}function f(e,t){return Object(n["a"])({url:"/sys/user/".concat(e),method:"PUT",data:{username:t.username,id:t.id,mobile:t.mobile,formOfEmployment:t.formOfEmployment,departmentId:t.departmentId,timeOfEntry:t.timeOfEntry,correctionTime:t.correctionTime}})}function d(e){return Object(n["a"])({url:"/sys/user/assignRoles",method:"PUT",data:e})}}}]);